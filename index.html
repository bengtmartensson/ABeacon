<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ABeacon: ABeacon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ABeacon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ABeacon </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This project consists of a class implementing an AMX-compatible beacon on an Arduino with Ethernet card using W5100, W5200, or W5500 chips. If using an Ethernet shield using W5500 or W5200 chip, be sure to use version 2.0.0 (or later) of the Ethernet library, since it supports both chips, auto-detecting during runtime.</p>
<p>The AMX beacon protocol is described e.g. <a href="http://www.globalcache.com/files/docs/API-GC-100.pdf">here</a>.</p>
<p>This is a singleton class, with no public constructor. Instead, the static "factory" function setup() should be called. The user then has to call the send() function on a regular basis, e.g. every 10 to 60 seconds. Alternatively, checkSend() can be called arbitrarily often, without flooding the LAN. See example/Beacon.ino for an example.</p>
<p>The class requires that the Ethernet has been setup before calling newInstance. It then instantiates its own private EthernetUDP instance.</p>
<p>The beacon should transmit an UDP broadcast message to IP-address 239.255.250.250, port 9131. However, the Arduino library does not consider this IP address to be a broadcast address. Therefore, this implementation instead sends to broadcast address 255.255.255.255.</p>
<h2>Porting to other libraries/platforms</h2>
<p>I am interesting in (clean) ports to other libraries and platforms. For this, the calls</p>
<ul>
<li>Udp.begin(uint16_t portNr) &ndash; really necessary?</li>
<li>Udp.beginPacket(const IPAddress broadcastIp, uint16_t broadcastPort)</li>
<li>Udp.write(const char* payload)</li>
<li>Udp.endPacket()</li>
</ul>
<p>are used. Pull requests are welcome! </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 25 2018 09:56:41 for ABeacon by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
